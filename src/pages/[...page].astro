---
import MainShell from "../components/MainShell.astro";
import { name, tagline } from "../data/site";
import { navItems } from "../data/nav";
export function getStaticPaths() {
  const pages = navItems
    .filter((n) => n.enabled !== false)
    .map((n) => (n.href === "/" ? "about" : n.href.replace("/", "")));
  return pages.map((p) => ({ params: { page: p } }));
}
const enabledPages = new Set(
  navItems
    .filter((n) => n.enabled !== false)
    .map((n) => (n.href === "/" ? "about" : n.href.replace("/", ""))),
);
const requested = (Astro.params.page as string) || "about";
const current = enabledPages.has(requested) ? requested : "about";
const pageMeta = {
  about: {
    title: `${name} - About`,
    description: `Hi, I'm ${name} and I'm a ${tagline}. Here you can learn more about me, my work, and my projects.`,
    canonicalPath: "/",
  },
  work: {
    title: `${name} - Work`,
    description: `Experience and roles held by ${name}.`,
    canonicalPath: "/work",
  },
  projects: {
    title: `${name} - Projects`,
    description: `Selected projects and case studies by ${name}.`,
    canonicalPath: "/projects",
  },
  contact: {
    title: `${name} - Contact`,
    description: `Get in touch with ${name}.`,
    canonicalPath: "/contact",
  },
} as const;
const meta = pageMeta[current as keyof typeof pageMeta] || pageMeta.about;
---

<MainShell meta={meta} current={current} />
