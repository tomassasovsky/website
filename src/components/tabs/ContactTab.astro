---
import { ui, socials } from "../../data/site";
import { booking } from "../../data/contact";
import ContactForm from "../ContactForm.astro";
---

<header><h2 class="h2 article-title">{ui.headings.contact}</h2></header>

<section class="booking">
  <h3 class="h3 form-title">{booking.ctaTitle}</h3>
  <div class="about-text">
    {booking.description.map((t) => <p>{t}</p>)}
  </div>
  <p>
    <a
      class="form-btn"
      href={booking.url}
      target="_blank"
      rel="noopener"
      aria-label="Open booking page in a new tab"
    >
      <ion-icon name="calendar-outline"></ion-icon>
      <span>Open booking page</span>
    </a>
  </p>
</section>

<div class="separator"></div>

<section class="contact-form-section">
  <h3 class="h3 form-title">Send me a message</h3>
  <ContactForm />
</section>

<div class="separator"></div>

<section class="contact-channels">
  <h3 class="h3 form-title">Other ways to reach me</h3>
  <ul class="contacts-list">
    {
      socials
        .filter(
          (s) => s.href && (s.label === "LinkedIn" || s.label === "GitHub"),
        )
        .map((s) => (
          <li class="contact-item">
            <div class="icon-box">
              <ion-icon name={s.icon} />
            </div>
            <div class="contact-info">
              <p class="contact-title">{s.label}</p>
              <a
                href={s.href}
                class="contact-link"
                target="_blank"
                rel="noopener"
              >
                {s.href.replace(/^https?:\/\//, "")}
              </a>
            </div>
          </li>
        ))
    }
  </ul>
</section>
